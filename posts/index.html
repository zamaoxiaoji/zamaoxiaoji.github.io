<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | å‡ç´«æš®</title><meta name=keywords content><meta name=description content="Posts - å‡ç´«æš®"><meta name=author content><link rel=canonical href=https://zamaoxiaoji.github.io/posts/><link crossorigin=anonymous href=/assets/css/stylesheet.2211ca3164be7830024f6aad2b3a2e520843a64f8f048445c3401c1249aa051d.css integrity="sha256-IhHKMWS+eDACT2qtKzouUghDpk+PBIRFw0AcEkmqBR0=" rel="preload stylesheet" as=style><link rel=icon href=https://zamaoxiaoji.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://zamaoxiaoji.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://zamaoxiaoji.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://zamaoxiaoji.github.io/apple-touch-icon.png><link rel=mask-icon href=https://zamaoxiaoji.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://zamaoxiaoji.github.io/posts/index.xml><link rel=alternate hreflang=en href=https://zamaoxiaoji.github.io/posts/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:url" content="https://zamaoxiaoji.github.io/posts/"><meta property="og:site_name" content="å‡ç´«æš®"><meta property="og:title" content="Posts"><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Posts"><meta name=twitter:description content><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://zamaoxiaoji.github.io/posts/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://zamaoxiaoji.github.io/ accesskey=h title="å‡ç´«æš® (Alt + H)">å‡ç´«æš®</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu></ul></nav></header><main class=main><header class=page-header><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Obæºç åˆæ¢ï¼ˆ1ï¼‰</h2></header><div class=entry-content><p>OceanBase æºç å¯¼è¯»è·¯çº¿ï¼šä»å¯åŠ¨ã€åè®®ã€SQL åˆ°å­˜å‚¨
ä¸€ã€æ•´ä½“åœ°å›¾ï¼ˆå»ºè®®å…ˆæ‰«ä¸€éç›®å½•ï¼‰
è¿›ç¨‹ä¸æœåŠ¡ï¼šsrc/observer/main.cpp:687ï¼Œsrc/observer/main.cpp:503ï¼Œsrc/observer/ob_server.cpp:234ï¼Œsrc/observer/ob_server.cpp:931 ç½‘ç»œä¸åè®®ï¼šsrc/observer/ob_srv_network_frame.h:38ï¼Œsrc/observer/ob_srv_deliver.h:42ï¼Œsrc/observer/mysql/obsm_handler.cpp:36 MySQL è¯·æ±‚å¤„ç†ï¼šsrc/observer/mysql/obmp_query.cpp:53 SQL å¼•æ“å…¥å£ï¼šsrc/sql/ob_sql.cpp:154ï¼ˆstmt_queryï¼‰ï¼Œsrc/sql/ob_sql.cpp:2799ï¼ˆhandle_text_queryï¼‰ è§£æå™¨ä¸è¯­ä¹‰ï¼šsrc/sql/parser/ob_parser.cpp:24ï¼Œsrc/sql/resolver/ob_resolver.cpp:13 ä¼˜åŒ–ä¸ä»£ç ç”Ÿæˆï¼šsrc/sql/optimizer/ob_optimizer.cpp:27ï¼Œsrc/sql/code_generator/ob_code_generator.cpp:23 æ‰§è¡Œå¼•æ“ï¼ˆTSC ç¤ºä¾‹ï¼‰ï¼šsrc/sql/engine/table/ob_table_scan_op.cpp:1874ï¼Œsrc/sql/engine/table/ob_table_scan_op.cpp:3763 DAS ä¸è·¯ç”±ï¼šsrc/sql/das/ob_data_access_service.cpp:84ï¼Œsrc/share/location_cache/ob_location_service.h:34ï¼Œsrc/share/location_cache/ob_location_service.h:69 å­˜å‚¨è®¿é—®ï¼šsrc/storage/access/ob_table_scan_iterator.h:49ï¼Œsrc/storage/blocksstable/ob_sstable.h:140ï¼Œsrc/storage/memtable/ob_memtable.h:184ï¼Œsrc/storage/memtable/mvcc/ob_mvcc_row.h:60 äº‹åŠ¡ä¸æäº¤ï¼šsrc/sql/ob_sql_trans_control.cpp:121ï¼Œsrc/sql/ob_sql_trans_control.cpp:229ï¼Œsrc/storage/tx/ob_trans_service.h:94ï¼Œsrc/logservice/ob_log_service.h:94 å…ƒæ•°æ®ä¸å¤šç§Ÿæˆ·ï¼šsrc/share/schema/ob_multi_version_schema_service.h:113ï¼Œsrc/share/ob_tenant_mgr.h:1ï¼Œsrc/observer/omt/ob_multi_tenant.h:1 äºŒã€ä»è¿›ç¨‹å¯åŠ¨åˆ°å¯¹å¤–æœåŠ¡
å…¥å£ä¸æ ˆåˆ‡æ¢ mainï¼šsrc/observer/main.cpp:687 â†’ è°ƒç”¨ CALL_WITH_NEW_STACK(inner_main, ...) inner_mainï¼šsrc/observer/main.cpp:503 å®Œæˆä¿¡å·æ ˆã€æ—¥å¿—ã€å‚æ•°è§£æï¼Œæ„é€ å¹¶é©±åŠ¨ ObServer Server åˆå§‹åŒ–ä¸å¯åŠ¨ ObServer::initï¼šsrc/observer/ob_server.cpp:234 å…³é”®åˆå§‹åŒ–é¡ºåºï¼ˆæ‘˜å–å¸¸è§å…³æ³¨ç‚¹ï¼‰ï¼šé…ç½®â†’è®¡æ—¶å™¨â†’æ—¥å¿—â†’SQL é™æ€å˜é‡â†’å…¨å±€ä¸Šä¸‹æ–‡ï¼ˆGCTXï¼‰â†’æ¨¡å¼ç‰ˆæœ¬â†’SQL Proxyâ†’IOâ†’KVCacheâ†’Schemaâ†’ç½‘ç»œâ†’RootServiceâ†’SQL/PLâ†’ä½ç½®æœåŠ¡â†’å­˜å‚¨â†’äº‹åŠ¡æ—¶é—´æˆ³ç®¡ç†ç­‰ã€‚ ObServer::startï¼šsrc/observer/ob_server.cpp:931 å¯åŠ¨ä¿¡å·çº¿ç¨‹ä¸å„å­ç³»ç»Ÿï¼Œobserver å¯¹å¤–å¯ç”¨ã€‚ ä¸‰ã€ç½‘ç»œä¸åè®®å±‚
ç½‘ç»œæ¡†æ¶ä¸äº¤ä»˜ ObSrvNetworkFrameï¼šsrc/observer/ob_srv_network_frame.h:38 è´Ÿè´£ easy ç½‘ç»œã€RPC å’Œ MySQL NIO çš„åˆå§‹åŒ–ä¸å¯åŠ¨ã€‚ ObSrvDeliverï¼šsrc/observer/ob_srv_deliver.h:42 å°†è¯·æ±‚åˆ†å‘åˆ°å¯¹åº”é˜Ÿåˆ—/çº¿ç¨‹ç»„ï¼ˆRPC/MySQL/DDL/è¯Šæ–­ç­‰ï¼‰ã€‚ MySQL æ¡æ‰‹ä¸è¿æ¥ç®¡ç† ObSMHandlerï¼šsrc/observer/mysql/obsm_handler.cpp:36 MySQL åè®®æ¡æ‰‹ã€è®¤è¯ã€è¿æ¥ç”Ÿå‘½å‘¨æœŸä¸åŠ å¯†å‚æ•°å¤„ç†ã€‚ å››ã€ä¸€æ¬¡ SQLï¼ˆä»¥ MySQL æ–‡æœ¬æŸ¥è¯¢ä¸ºä¾‹ï¼‰
åè®®å±‚å…¥å£ ObMPQuery::process()ï¼šsrc/observer/mysql/obmp_query.cpp:53 å–ä¼šè¯/ç§Ÿæˆ·â†’é™æµæ£€æŸ¥â†’è§£æ extra info ä¸ traceâ†’åˆå§‹åŒ– schema_guard_ ä¸æœ¬åœ°/å…¨å±€ schema ç‰ˆæœ¬â†’è°ƒç”¨ SQL å¼•æ“ï¼š gctx_.sql_engine_->stmt_query(sql, ctx_, result)ï¼šsrc/observer/mysql/obmp_query.cpp:1090 SQL å¼•æ“ä¸»æµç¨‹ ObSql::stmt_query()ï¼šsrc/sql/ob_sql.cpp:154 åˆå§‹åŒ– ResultSetâ†’handle_text_query()ï¼šsrc/sql/ob_sql.cpp:2799 å¤„ç† CCLã€Plan Cache å‘½ä¸­â†’è¿›å…¥ç¼–è¯‘ï¼ˆæœªå‘½ä¸­æ—¶ï¼‰â†’è®¾ç½®ç»“æœé›†ç­‰ã€‚ è§£æä¸è¯­ä¹‰ é¢„è§£æ/å¿«é€Ÿåˆ¤æ–­ï¼šObParser æ„é€ ä¸ is_pl_stmt() ç­‰ï¼šsrc/sql/parser/ob_parser.cpp:24 è¯­æ³•è§£æï¼ˆlexer/yacc ç”Ÿæˆæ–‡ä»¶åœ¨ src/sql/parser ç›®å½•ä¸‹ï¼Œsql_parser_mysql_mode_*.cï¼‰ è¯­ä¹‰è§£æå…¥å£ï¼šsrc/sql/resolver/ob_resolver.cpp:13ï¼ˆæŒ‰è¯­å¥ç±»å‹åˆ†å‘åˆ° DML/DDL/TCL/Prepare ç­‰å…·ä½“ resolverï¼‰ è§„åˆ™æ”¹å†™ä¸ä¼˜åŒ– è§„åˆ™æ”¹å†™ï¼šsrc/sql/rewrite/ob_transformer_impl.cpp:15 æ±‡èšå¸¸è§æ”¹å†™ï¼ˆå­æŸ¥è¯¢ä¸Šæã€join æ¶ˆé™¤ã€è°“è¯ä¸‹æ¨ç­‰ï¼‰ã€‚ åŸºæœ¬ä¼˜åŒ–å…¥å£ï¼šObOptimizer::optimize()ï¼šsrc/sql/optimizer/ob_optimizer.cpp:27 ç”Ÿæˆé€»è¾‘è®¡åˆ’ã€è®¿é—®è·¯å¾„é€‰æ‹©ã€ä»£ä»·ä¼°è®¡ã€åˆ†å¸ƒå¼æ‰§è¡Œä¿¡æ¯ç­‰ã€‚ ä»£ç ç”Ÿæˆä¸ç‰©ç†è®¡åˆ’ ObCodeGenerator::generate()ï¼šsrc/sql/code_generator/ob_code_generator.cpp:23 ç”Ÿæˆè¡¨è¾¾å¼å¸§â†’ç®—å­æ ‘ï¼ˆé™æ€å¼•æ“ï¼‰â†’è®¾ç½® batch/vectorize ç›¸å…³ä¿¡æ¯ã€‚ äº”ã€æ‰§è¡Œå¼•æ“åˆ°æ•°æ®è®¿é—®ï¼ˆDASï¼‰
...</p></div><footer class=entry-footer><span title='2025-11-05 11:08:04 +0800 +0800'>November 5, 2025</span></footer><a class=entry-link aria-label="post link to Obæºç åˆæ¢ï¼ˆ1ï¼‰" href=https://zamaoxiaoji.github.io/posts/ob%E6%BA%90%E7%A0%81%E5%88%9D%E6%8E%A21/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>MINIOBç®—å­å®ç°æµç¨‹</h2></header><div class=entry-content><p>0. è„‘å­é‡Œè¦æœ‰çš„æ€»åœ°å›¾ï¼ˆä¸€æ¬¡è¿‡ï¼‰ SQL çš„æ‰§è¡Œåœ¨ miniob é‡ŒåŸºæœ¬æ˜¯è¿™å‡ æ­¥ï¼ˆä½ ä¹Ÿå·²ç»çŸ¥é“çš„é‚£æ¡çº¿ï¼‰ï¼š
Parser
è¯æ³•/è¯­æ³•æŠŠ SQL å­—ç¬¦ä¸²å˜æˆè§£ææ ‘ï¼ˆParsedSqlNodeï¼Œæ¯”å¦‚ SelectSqlNodeï¼‰ã€‚
Resolverï¼ˆç»‘å®š/ç±»å‹è§£æï¼‰
æŠŠæœªç»‘å®šçš„è¡¨è¾¾å¼ï¼ˆæ¯”å¦‚ UnboundFieldExprã€UnboundAggregateExprï¼‰å˜æˆå¯æ‰§è¡Œçš„è¡¨è¾¾å¼ï¼ˆFieldExprã€AggregateExprï¼‰ï¼Œå†³å®šç±»å‹ã€é•¿åº¦ï¼Œå¿…è¦æ—¶åš castã€‚
Logical Planï¼ˆé€»è¾‘ç®—å­ï¼‰
åŸºäº SelectSqlNode æ­å»ºé€»è¾‘è®¡åˆ’ï¼šæ‰«æã€è°“è¯ã€æŠ•å½±ã€èšåˆã€åˆ†ç»„ã€è¿æ¥ç­‰ã€‚è¿™é‡Œåªå†³å®šâ€œåšä»€ä¹ˆâ€ï¼Œè¿˜æ²¡å†³å®šâ€œæ€ä¹ˆåš/ç”¨ä»€ä¹ˆç®—æ³•â€ã€‚
Physical Planï¼ˆç‰©ç†ç®—å­ï¼‰
é€‰æ‹©å…·ä½“å®ç°ï¼ˆæ¯”å¦‚ GROUP_BY_VECã€AGGREGATE_VECã€HASH_JOINâ€¦ï¼‰ï¼Œå®ç° open/next/close çš„è¿­ä»£å™¨æ¥å£ã€‚
miniob çš„ç‰©ç†ç®—å­æ˜¯å‘é‡åŒ–é£æ ¼ï¼šnext(Chunk &amp;chunk) æ¯æ¬¡åä¸€æ‰¹æ•°æ®åˆ—ï¼ˆColumnï¼‰ï¼Œè€Œä¸æ˜¯ä¸€è¡Œè¡Œåã€‚
æ‰§è¡Œï¼ˆExecutorï¼‰
ä»æ ¹ç®—å­å¼€å§‹ open()ï¼Œä¸æ–­ next() ç›´åˆ° RECORD_EOFï¼Œæœ€å close()ã€‚
æ¥ä¸‹æ¥æ¯ä¸€æ­¥ç”¨å·²ç»æ”¹çš„ä»£ç æŠŠâ€œåšäº†ä»€ä¹ˆâ€å’Œâ€œä¸ºä»€ä¹ˆè¿™ä¹ˆåšâ€è®²æ¸…æ¥šã€‚
1. Parserï¼šè®© SQL èƒ½â€œå†™å‡ºæ¥å¹¶è¢«ç†è§£â€ 1.1 è¯­æ³•ï¼šåœ¨ yacc_sql.y æ”¯æŒèšåˆä¸ GROUP BY å·²ç»æœ‰ï¼š
aggregate_expressionï¼š
aggregate_expression: ID LBRACE expression RBRACE { $$ = create_aggregate_expression($1, $3, sql_string, &@$); } | ID LBRACE '*' RBRACE { $$ = create_aggregate_expression($1, new StarExpr(), sql_string, &@$); } ; è¿™è®© COUNT(*) / SUM(col) / AVG(col) ç­‰è¿›å…¥è§£ææ ‘é‡Œï¼Œå…ˆæ˜¯ Unboundï¼ˆUnboundAggregateExprï¼‰ï¼Œç±»å‹è¿˜æ²¡æœ€ç»ˆç¡®è®¤ï¼ˆè¯­ä¹‰é˜¶æ®µåšï¼‰ã€‚ group_byï¼š ä½ å¯ä»¥ç”¨â€œè¯­ä¹‰é˜¶æ®µç¦ *â€æˆ–â€œè¯­æ³•ç›´æ¥ç¦ *â€ä¸¤ç§æ–¹æ¡ˆä¹‹ä¸€ã€‚æˆ‘ä»¬ç»™äº†â€œè¯­æ³•ç›´æ¥ç¦ â€çš„ç‰ˆæœ¬ï¼ˆgroup_by_expression ä¸åŒ…å« â€˜â€™ å’Œ aggregate_expressionï¼‰ï¼Œè¿™æ · GROUP BY åˆ—å°±ä¸ä¼šæ¥å— * æˆ–èšåˆã€‚
...</p></div><footer class=entry-footer><span title='2025-10-15 22:23:13 +0800 +0800'>October 15, 2025</span></footer><a class=entry-link aria-label="post link to MINIOBç®—å­å®ç°æµç¨‹" href=https://zamaoxiaoji.github.io/posts/miniob%E7%AE%97%E5%AD%90%E5%AE%9E%E7%8E%B0%E6%B5%81%E7%A8%8B/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Valueofå’ŒtostringåŒºåˆ«</h2></header><div class=entry-content><p>LC49 String.valueOf(c) æ¢æˆc.toString()å°±å‡ºé”™
åœ¨ Java é‡Œï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•è¡¨é¢ç›¸ä¼¼ï¼Œä½†æœ¬è´¨å®Œå…¨ä¸åŒï¼š
String.valueOf(c) c æ˜¯ char[]ã€‚
String.valueOf(char[]) çš„é‡è½½æ–¹æ³•ä¼šæŠŠæ•´ä¸ªå­—ç¬¦æ•°ç»„è½¬æˆå­—ç¬¦ä¸²ã€‚
ä¾‹å¦‚ï¼š
char[] c = {â€˜aâ€™,â€™nâ€™,â€™tâ€™}; System.out.println(String.valueOf(c)); // â€œantâ€
c.toString() c æ˜¯ä¸€ä¸ª å¯¹è±¡ï¼ˆchar[]ï¼‰ã€‚
char[] æ²¡æœ‰é‡å†™ toString() æ–¹æ³•ï¼Œå› æ­¤ä¼šè°ƒç”¨ Object.toString() çš„é»˜è®¤å®ç°ã€‚
Object.toString() è¿”å›çš„æ˜¯ï¼š
ç±»å@å“ˆå¸Œç 
æ¯”å¦‚ï¼š
char[] c = {â€˜aâ€™,â€™nâ€™,â€™tâ€™}; System.out.println(c.toString()); // [C@7a81197d
è¿™é‡Œ [C ä»£è¡¨ char æ•°ç»„çš„ç±»å‹ï¼Œåé¢æ˜¯å“ˆå¸Œå€¼ã€‚</p></div><footer class=entry-footer><span title='2025-09-14 00:07:06 +0800 +0800'>September 14, 2025</span></footer><a class=entry-link aria-label="post link to Valueofå’ŒtostringåŒºåˆ«" href=https://zamaoxiaoji.github.io/posts/valueof%E5%92%8Ctostring%E5%8C%BA%E5%88%AB/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>å›½å¤–VPSæ­å»ºèŠ‚ç‚¹æ•™ç¨‹</h2></header><div class=entry-content><p>é¦–å…ˆè´­ä¹°VPSï¼Œæ³¨æ„æœ€å¥½æœ‰åŸç”Ÿçš„IPV4ï¼Œçº¯IPV6çš„è¯å»Githubæ‹‰å–ä¸œè¥¿éƒ½è´¹åŠ²ã€‚
åœ°åŸŸä¸ºäº†å»¶è¿Ÿå¯ä»¥é€‰é¦™æ¸¯ï¼Œä½†æ˜¯é¦™æ¸¯æ˜¯GPTä¸æ”¯æŒçš„åœ°æ–¹ï¼Œå“ªæ€•å¥—äº†CFç…§æ ·ä¸æ”¯æŒï¼Œæ‰€ä»¥ä¼˜å…ˆå°æ¹¾ï¼Œæ—¥æœ¬ã€‚
æ³¨æ„ï¼åªçœ‹â€œKVM VPSâ€ï¼Œå…¶å®ƒçš„æ¯”å¦‚â€œHostingâ€æ˜¯æ‹¿æ¥å»ºç½‘ç«™çš„ï¼Œä¸èƒ½æ‹¿æ¥ç¿»å¢™ã€‚
ç›®å‰æœ‰ä¸¤ç§æ–¹å¼ï¼š
VLESS + WebSocket + TLS ä¼ è¾“å±‚ï¼š
ä½¿ç”¨ WebSocketï¼ˆWSï¼‰ä½œä¸ºä¼ è¾“ï¼Œè¡¨é¢ä¸Šçœ‹èµ·æ¥åƒæ™®é€šçš„ HTTPS æµé‡ã€‚
åŠ å¯†ï¼š
ä¾èµ– TLSï¼ˆé€šå¸¸é…åˆåŸŸåè¯ä¹¦ï¼Œæ¯”å¦‚ Cloudflareã€Letâ€™s Encryptï¼‰ã€‚
éœ€è¦ä¸€ä¸ª åŸŸåï¼Œè€Œä¸”è¯ä¹¦è¦åˆæ³•ã€‚
ä¼˜ç‚¹ï¼š
å¯ä»¥ä¼ªè£…æˆæ­£å¸¸çš„ç½‘ç«™æµé‡ã€‚
å¾ˆå¸¸è§ï¼Œæ•™ç¨‹å¤šã€å…¼å®¹æ€§å¼ºã€‚
ç¼ºç‚¹ï¼š
å¿…é¡»è¦åŸŸåã€è¯ä¹¦ã€‚
æµé‡ç‰¹å¾è™½ç„¶åƒ HTTPSï¼Œä½†è¿˜æ˜¯å®¹æ˜“è¢« DPI æ£€æµ‹åˆ° WS æ¨¡å¼ã€‚
éœ€è¦é¢å¤–é…ç½®ï¼ˆNginx/Caddy/Cloudflare ç­‰ï¼‰ã€‚
VLESS + Reality ä¼ è¾“å±‚ï¼š
ä¸ç”¨ WebSocketï¼Œä¹Ÿä¸ç”¨çœŸæ­£çš„ç½‘ç«™ã€‚
é€šè¿‡ Reality æŠ€æœ¯æ¥â€œä¼ªé€ â€ä¸€ä¸ªçœ‹èµ·æ¥åƒ TLS çš„æ¡æ‰‹ã€‚
åŠ å¯†ï¼š
å†…éƒ¨æ˜¯ åŸºäº XTLS çš„åŠ å¯†ä¼ è¾“ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å…±äº«ä¸€ä¸ªå…¬é’¥/ç§é’¥ã€‚
ä¸éœ€è¦ç”³è¯·åŸŸåå’Œè¯ä¹¦ã€‚
åŸç†ï¼š
å®ƒä¼šæ¨¡æ‹Ÿè®¿é—®ä¸€ä¸ªå¤§ç½‘ç«™ï¼ˆæ¯”å¦‚ www.microsoft.com æˆ– www.cloudflare.comï¼‰ï¼Œè®©æµé‡çœ‹èµ·æ¥å®Œå…¨åƒçœŸå®çš„ TLSã€‚
ä¼˜ç‚¹ï¼š
å…åŸŸåã€å…è¯ä¹¦ï¼Œéƒ¨ç½²æ›´ç®€å•ã€‚
ä¼ªè£…æ•ˆæœæ›´å¼ºï¼Œå‡ ä¹å°±æ˜¯æ­£ç»ç½‘ç«™çš„ TLS æµé‡ã€‚
æ€§èƒ½æ›´å¥½ï¼Œå»¶è¿Ÿæ›´ä½ã€‚
ç¼ºç‚¹ï¼š
éœ€è¦æ”¯æŒ Reality çš„å®¢æˆ·ç«¯ï¼ˆæ¯”è¾ƒæ–°çš„ Clash / v2rayN / sing-box ç­‰ï¼‰ã€‚
...</p></div><footer class=entry-footer><span title='2025-09-13 12:43:29 +0000 UTC'>September 13, 2025</span></footer><a class=entry-link aria-label="post link to å›½å¤–VPSæ­å»ºèŠ‚ç‚¹æ•™ç¨‹" href=https://zamaoxiaoji.github.io/posts/vps%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>ç®€æ˜“ç‰ˆCICDæµç¨‹</h2></header><div class=entry-content><p>ğŸ”§ ç›®æ ‡
å¤šä¸ª GitHub ä»“åº“ï¼ˆa-serviceã€b-serviceã€c-service â€¦ï¼‰
æ¯ä¸ªä»“åº“ push â†’ GitHub Actionsï¼š
ç¼–è¯‘æ‰“åŒ… jar
æ„å»º Docker é•œåƒ
æ¨é€åˆ° Docker Hubï¼ˆæˆ– GHCRã€é˜¿é‡Œäº‘ä»“åº“ç­‰ï¼‰
æœåŠ¡å™¨è¿è¡Œä¸€ä¸ªç»Ÿä¸€çš„ docker-compose.ymlï¼Œé‡Œé¢å£°æ˜ aã€bã€c æœåŠ¡ + å…¬å…±ä¾èµ–ï¼ˆmysqlã€redis ç­‰ï¼‰
watchtower å¸¸é©»ï¼Œæ£€æµ‹åˆ°æ–°é•œåƒ â†’ è‡ªåŠ¨æ‹‰å–å¹¶æ›´æ–°å¯¹åº”å®¹å™¨
æœåŠ¡ä¹‹é—´é€šè¿‡ docker ç½‘ç»œ äº’ç›¸è°ƒç”¨ï¼ˆå®¹å™¨åå°±æ˜¯ä¸»æœºåï¼‰
ğŸ—ï¸ æ¶æ„å›¾
GitHub Repo A ----> GitHub Actions ----> Docker Hub (a-service:latest) --+ | GitHub Repo B ----> GitHub Actions ----> Docker Hub (b-service:latest) --+--> VPS (docker-compose + watchtower) | GitHub Repo C ----> GitHub Actions ----> Docker Hub (c-service:latest) --+ âš™ï¸ å…³é”®ç‚¹é…ç½® 1ï¸âƒ£ æ¯ä¸ªä»“åº“çš„ GitHub Actions
...</p></div><footer class=entry-footer><span title='2025-09-13 12:43:29 +0000 UTC'>September 13, 2025</span></footer><a class=entry-link aria-label="post link to ç®€æ˜“ç‰ˆCICDæµç¨‹" href=https://zamaoxiaoji.github.io/posts/vps%E7%AE%80%E5%8D%95%E7%94%A8%E9%80%94/></a></article></main><footer class=footer><span>&copy; 2025 <a href=https://zamaoxiaoji.github.io/>å‡ç´«æš®</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>