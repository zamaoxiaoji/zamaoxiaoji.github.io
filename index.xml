<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>å‡ç´«æš®</title><link>https://zamaoxiaoji.github.io/</link><description>Recent content on å‡ç´«æš®</description><generator>Hugo -- 0.150.0</generator><language>en-us</language><lastBuildDate>Wed, 15 Oct 2025 22:23:13 +0800</lastBuildDate><atom:link href="https://zamaoxiaoji.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>MINIOBç®—å­å®ç°æµç¨‹</title><link>https://zamaoxiaoji.github.io/posts/miniob%E7%AE%97%E5%AD%90%E5%AE%9E%E7%8E%B0%E6%B5%81%E7%A8%8B/</link><pubDate>Wed, 15 Oct 2025 22:23:13 +0800</pubDate><guid>https://zamaoxiaoji.github.io/posts/miniob%E7%AE%97%E5%AD%90%E5%AE%9E%E7%8E%B0%E6%B5%81%E7%A8%8B/</guid><description>&lt;h1 id="0-è„‘å­é‡Œè¦æœ‰çš„æ€»åœ°å›¾ä¸€æ¬¡è¿‡"&gt;0. è„‘å­é‡Œè¦æœ‰çš„æ€»åœ°å›¾ï¼ˆä¸€æ¬¡è¿‡ï¼‰&lt;/h1&gt;
&lt;p&gt;SQL çš„æ‰§è¡Œåœ¨ miniob é‡ŒåŸºæœ¬æ˜¯è¿™å‡ æ­¥ï¼ˆä½ ä¹Ÿå·²ç»çŸ¥é“çš„é‚£æ¡çº¿ï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;Parser&lt;/p&gt;
&lt;p&gt;è¯æ³•/è¯­æ³•æŠŠ SQL å­—ç¬¦ä¸²å˜æˆè§£ææ ‘ï¼ˆParsedSqlNodeï¼Œæ¯”å¦‚ SelectSqlNodeï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;Resolverï¼ˆç»‘å®š/ç±»å‹è§£æï¼‰&lt;/p&gt;
&lt;p&gt;æŠŠæœªç»‘å®šçš„è¡¨è¾¾å¼ï¼ˆæ¯”å¦‚ UnboundFieldExprã€UnboundAggregateExprï¼‰å˜æˆå¯æ‰§è¡Œçš„è¡¨è¾¾å¼ï¼ˆFieldExprã€AggregateExprï¼‰ï¼Œå†³å®šç±»å‹ã€é•¿åº¦ï¼Œå¿…è¦æ—¶åš castã€‚&lt;/p&gt;
&lt;p&gt;Logical Planï¼ˆé€»è¾‘ç®—å­ï¼‰&lt;/p&gt;
&lt;p&gt;åŸºäº SelectSqlNode æ­å»ºé€»è¾‘è®¡åˆ’ï¼šæ‰«æã€è°“è¯ã€æŠ•å½±ã€èšåˆã€åˆ†ç»„ã€è¿æ¥ç­‰ã€‚è¿™é‡Œåªå†³å®šâ€œåšä»€ä¹ˆâ€ï¼Œè¿˜æ²¡å†³å®šâ€œæ€ä¹ˆåš/ç”¨ä»€ä¹ˆç®—æ³•â€ã€‚&lt;/p&gt;
&lt;p&gt;Physical Planï¼ˆç‰©ç†ç®—å­ï¼‰&lt;/p&gt;
&lt;p&gt;é€‰æ‹©å…·ä½“å®ç°ï¼ˆæ¯”å¦‚ GROUP_BY_VECã€AGGREGATE_VECã€HASH_JOINâ€¦ï¼‰ï¼Œå®ç° open/next/close çš„è¿­ä»£å™¨æ¥å£ã€‚&lt;/p&gt;
&lt;p&gt;miniob çš„ç‰©ç†ç®—å­æ˜¯å‘é‡åŒ–é£æ ¼ï¼šnext(Chunk &amp;amp;chunk) æ¯æ¬¡åä¸€æ‰¹æ•°æ®åˆ—ï¼ˆColumnï¼‰ï¼Œè€Œä¸æ˜¯ä¸€è¡Œè¡Œåã€‚&lt;/p&gt;
&lt;p&gt;æ‰§è¡Œï¼ˆExecutorï¼‰&lt;/p&gt;
&lt;p&gt;ä»æ ¹ç®—å­å¼€å§‹ open()ï¼Œä¸æ–­ next() ç›´åˆ° RECORD_EOFï¼Œæœ€å close()ã€‚&lt;/p&gt;
&lt;p&gt;æ¥ä¸‹æ¥æ¯ä¸€æ­¥ç”¨å·²ç»æ”¹çš„ä»£ç æŠŠâ€œåšäº†ä»€ä¹ˆâ€å’Œâ€œä¸ºä»€ä¹ˆè¿™ä¹ˆåšâ€è®²æ¸…æ¥šã€‚&lt;/p&gt;
&lt;h1 id="1-parserè®©-sql-èƒ½å†™å‡ºæ¥å¹¶è¢«ç†è§£"&gt;1. Parserï¼šè®© SQL èƒ½â€œå†™å‡ºæ¥å¹¶è¢«ç†è§£â€&lt;/h1&gt;
&lt;h2 id="11-è¯­æ³•åœ¨-yacc_sqly-æ”¯æŒèšåˆä¸-group-by"&gt;1.1 è¯­æ³•ï¼šåœ¨ yacc_sql.y æ”¯æŒèšåˆä¸ GROUP BY&lt;/h2&gt;
&lt;p&gt;å·²ç»æœ‰ï¼š&lt;/p&gt;
&lt;p&gt;aggregate_expressionï¼š&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;aggregate_expression:
ID LBRACE expression RBRACE {
$$ = create_aggregate_expression($1, $3, sql_string, &amp;amp;@$);
}
| ID LBRACE &amp;#39;*&amp;#39; RBRACE {
$$ = create_aggregate_expression($1, new StarExpr(), sql_string, &amp;amp;@$);
}
;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;è¿™è®© COUNT(*) / SUM(col) / AVG(col) ç­‰è¿›å…¥è§£ææ ‘é‡Œï¼Œå…ˆæ˜¯ Unboundï¼ˆUnboundAggregateExprï¼‰ï¼Œç±»å‹è¿˜æ²¡æœ€ç»ˆç¡®è®¤ï¼ˆè¯­ä¹‰é˜¶æ®µåšï¼‰ã€‚
group_byï¼š
ä½ å¯ä»¥ç”¨â€œè¯­ä¹‰é˜¶æ®µç¦ *â€æˆ–â€œè¯­æ³•ç›´æ¥ç¦ *â€ä¸¤ç§æ–¹æ¡ˆä¹‹ä¸€ã€‚æˆ‘ä»¬ç»™äº†â€œè¯­æ³•ç›´æ¥ç¦ &lt;em&gt;â€çš„ç‰ˆæœ¬ï¼ˆgroup_by_expression ä¸åŒ…å« &amp;lsquo;&lt;/em&gt;&amp;rsquo; å’Œ aggregate_expressionï¼‰ï¼Œè¿™æ · GROUP BY åˆ—å°±ä¸ä¼šæ¥å— * æˆ–èšåˆã€‚&lt;/p&gt;</description></item><item><title>Valueofå’ŒtostringåŒºåˆ«</title><link>https://zamaoxiaoji.github.io/posts/valueof%E5%92%8Ctostring%E5%8C%BA%E5%88%AB/</link><pubDate>Sun, 14 Sep 2025 00:07:06 +0800</pubDate><guid>https://zamaoxiaoji.github.io/posts/valueof%E5%92%8Ctostring%E5%8C%BA%E5%88%AB/</guid><description>&lt;p&gt;LC49 String.valueOf(c) æ¢æˆc.toString()å°±å‡ºé”™&lt;/p&gt;
&lt;p&gt;åœ¨ Java é‡Œï¼Œè¿™ä¸¤ä¸ªæ–¹æ³•è¡¨é¢ç›¸ä¼¼ï¼Œä½†æœ¬è´¨å®Œå…¨ä¸åŒï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;String.valueOf(c)&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;c æ˜¯ char[]ã€‚&lt;/p&gt;
&lt;p&gt;String.valueOf(char[]) çš„é‡è½½æ–¹æ³•ä¼šæŠŠæ•´ä¸ªå­—ç¬¦æ•°ç»„è½¬æˆå­—ç¬¦ä¸²ã€‚&lt;/p&gt;
&lt;p&gt;ä¾‹å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;char[] c = {&amp;lsquo;a&amp;rsquo;,&amp;rsquo;n&amp;rsquo;,&amp;rsquo;t&amp;rsquo;};
System.out.println(String.valueOf(c)); // &amp;ldquo;ant&amp;rdquo;&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;c.toString()&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;c æ˜¯ä¸€ä¸ª å¯¹è±¡ï¼ˆchar[]ï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;char[] æ²¡æœ‰é‡å†™ toString() æ–¹æ³•ï¼Œå› æ­¤ä¼šè°ƒç”¨ Object.toString() çš„é»˜è®¤å®ç°ã€‚&lt;/p&gt;
&lt;p&gt;Object.toString() è¿”å›çš„æ˜¯ï¼š&lt;/p&gt;
&lt;p&gt;ç±»å@å“ˆå¸Œç &lt;/p&gt;
&lt;p&gt;æ¯”å¦‚ï¼š&lt;/p&gt;
&lt;p&gt;char[] c = {&amp;lsquo;a&amp;rsquo;,&amp;rsquo;n&amp;rsquo;,&amp;rsquo;t&amp;rsquo;};
System.out.println(c.toString()); // [C@7a81197d&lt;/p&gt;
&lt;p&gt;è¿™é‡Œ [C ä»£è¡¨ char æ•°ç»„çš„ç±»å‹ï¼Œåé¢æ˜¯å“ˆå¸Œå€¼ã€‚&lt;/p&gt;</description></item><item><title>å›½å¤–VPSæ­å»ºèŠ‚ç‚¹æ•™ç¨‹</title><link>https://zamaoxiaoji.github.io/posts/vps%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97/</link><pubDate>Sat, 13 Sep 2025 12:43:29 +0000</pubDate><guid>https://zamaoxiaoji.github.io/posts/vps%E6%90%AD%E5%BB%BA%E6%8C%87%E5%8D%97/</guid><description>&lt;p&gt;é¦–å…ˆè´­ä¹°VPSï¼Œæ³¨æ„æœ€å¥½æœ‰åŸç”Ÿçš„IPV4ï¼Œçº¯IPV6çš„è¯å»Githubæ‹‰å–ä¸œè¥¿éƒ½è´¹åŠ²ã€‚&lt;/p&gt;
&lt;p&gt;åœ°åŸŸä¸ºäº†å»¶è¿Ÿå¯ä»¥é€‰é¦™æ¸¯ï¼Œä½†æ˜¯é¦™æ¸¯æ˜¯GPTä¸æ”¯æŒçš„åœ°æ–¹ï¼Œå“ªæ€•å¥—äº†CFç…§æ ·ä¸æ”¯æŒï¼Œæ‰€ä»¥ä¼˜å…ˆå°æ¹¾ï¼Œæ—¥æœ¬ã€‚&lt;/p&gt;
&lt;p&gt;æ³¨æ„ï¼åªçœ‹â€œKVM VPSâ€ï¼Œå…¶å®ƒçš„æ¯”å¦‚â€œHostingâ€æ˜¯æ‹¿æ¥å»ºç½‘ç«™çš„ï¼Œä¸èƒ½æ‹¿æ¥ç¿»å¢™ã€‚&lt;/p&gt;
&lt;p&gt;ç›®å‰æœ‰ä¸¤ç§æ–¹å¼ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;VLESS + WebSocket + TLS&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¼ è¾“å±‚ï¼š&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨ WebSocketï¼ˆWSï¼‰ä½œä¸ºä¼ è¾“ï¼Œè¡¨é¢ä¸Šçœ‹èµ·æ¥åƒæ™®é€šçš„ HTTPS æµé‡ã€‚&lt;/p&gt;
&lt;p&gt;åŠ å¯†ï¼š&lt;/p&gt;
&lt;p&gt;ä¾èµ– TLSï¼ˆé€šå¸¸é…åˆåŸŸåè¯ä¹¦ï¼Œæ¯”å¦‚ Cloudflareã€Letâ€™s Encryptï¼‰ã€‚&lt;/p&gt;
&lt;p&gt;éœ€è¦ä¸€ä¸ª åŸŸåï¼Œè€Œä¸”è¯ä¹¦è¦åˆæ³•ã€‚&lt;/p&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;p&gt;å¯ä»¥ä¼ªè£…æˆæ­£å¸¸çš„ç½‘ç«™æµé‡ã€‚&lt;/p&gt;
&lt;p&gt;å¾ˆå¸¸è§ï¼Œæ•™ç¨‹å¤šã€å…¼å®¹æ€§å¼ºã€‚&lt;/p&gt;
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;p&gt;å¿…é¡»è¦åŸŸåã€è¯ä¹¦ã€‚&lt;/p&gt;
&lt;p&gt;æµé‡ç‰¹å¾è™½ç„¶åƒ HTTPSï¼Œä½†è¿˜æ˜¯å®¹æ˜“è¢« DPI æ£€æµ‹åˆ° WS æ¨¡å¼ã€‚&lt;/p&gt;
&lt;p&gt;éœ€è¦é¢å¤–é…ç½®ï¼ˆNginx/Caddy/Cloudflare ç­‰ï¼‰ã€‚&lt;/p&gt;
&lt;ol start="2"&gt;
&lt;li&gt;VLESS + Reality&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;ä¼ è¾“å±‚ï¼š&lt;/p&gt;
&lt;p&gt;ä¸ç”¨ WebSocketï¼Œä¹Ÿä¸ç”¨çœŸæ­£çš„ç½‘ç«™ã€‚&lt;/p&gt;
&lt;p&gt;é€šè¿‡ Reality æŠ€æœ¯æ¥â€œä¼ªé€ â€ä¸€ä¸ªçœ‹èµ·æ¥åƒ TLS çš„æ¡æ‰‹ã€‚&lt;/p&gt;
&lt;p&gt;åŠ å¯†ï¼š&lt;/p&gt;
&lt;p&gt;å†…éƒ¨æ˜¯ åŸºäº XTLS çš„åŠ å¯†ä¼ è¾“ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯å…±äº«ä¸€ä¸ªå…¬é’¥/ç§é’¥ã€‚&lt;/p&gt;
&lt;p&gt;ä¸éœ€è¦ç”³è¯·åŸŸåå’Œè¯ä¹¦ã€‚&lt;/p&gt;
&lt;p&gt;åŸç†ï¼š&lt;/p&gt;
&lt;p&gt;å®ƒä¼šæ¨¡æ‹Ÿè®¿é—®ä¸€ä¸ªå¤§ç½‘ç«™ï¼ˆæ¯”å¦‚ &lt;a href="https://www.microsoft.com"&gt;www.microsoft.com&lt;/a&gt; æˆ– &lt;a href="https://www.cloudflare.com"&gt;www.cloudflare.com&lt;/a&gt;ï¼‰ï¼Œè®©æµé‡çœ‹èµ·æ¥å®Œå…¨åƒçœŸå®çš„ TLSã€‚&lt;/p&gt;
&lt;p&gt;ä¼˜ç‚¹ï¼š&lt;/p&gt;
&lt;p&gt;å…åŸŸåã€å…è¯ä¹¦ï¼Œéƒ¨ç½²æ›´ç®€å•ã€‚&lt;/p&gt;
&lt;p&gt;ä¼ªè£…æ•ˆæœæ›´å¼ºï¼Œå‡ ä¹å°±æ˜¯æ­£ç»ç½‘ç«™çš„ TLS æµé‡ã€‚&lt;/p&gt;
&lt;p&gt;æ€§èƒ½æ›´å¥½ï¼Œå»¶è¿Ÿæ›´ä½ã€‚&lt;/p&gt;
&lt;p&gt;ç¼ºç‚¹ï¼š&lt;/p&gt;
&lt;p&gt;éœ€è¦æ”¯æŒ Reality çš„å®¢æˆ·ç«¯ï¼ˆæ¯”è¾ƒæ–°çš„ Clash / v2rayN / sing-box ç­‰ï¼‰ã€‚&lt;/p&gt;</description></item><item><title>ç®€æ˜“ç‰ˆCICDæµç¨‹</title><link>https://zamaoxiaoji.github.io/posts/vps%E7%AE%80%E5%8D%95%E7%94%A8%E9%80%94/</link><pubDate>Sat, 13 Sep 2025 12:43:29 +0000</pubDate><guid>https://zamaoxiaoji.github.io/posts/vps%E7%AE%80%E5%8D%95%E7%94%A8%E9%80%94/</guid><description>&lt;p&gt;ğŸ”§ ç›®æ ‡&lt;/p&gt;
&lt;p&gt;å¤šä¸ª GitHub ä»“åº“ï¼ˆa-serviceã€b-serviceã€c-service â€¦ï¼‰&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªä»“åº“ push â†’ GitHub Actionsï¼š&lt;/p&gt;
&lt;p&gt;ç¼–è¯‘æ‰“åŒ… jar&lt;/p&gt;
&lt;p&gt;æ„å»º Docker é•œåƒ&lt;/p&gt;
&lt;p&gt;æ¨é€åˆ° Docker Hubï¼ˆæˆ– GHCRã€é˜¿é‡Œäº‘ä»“åº“ç­‰ï¼‰&lt;/p&gt;
&lt;p&gt;æœåŠ¡å™¨è¿è¡Œä¸€ä¸ªç»Ÿä¸€çš„ docker-compose.ymlï¼Œé‡Œé¢å£°æ˜ aã€bã€c æœåŠ¡ + å…¬å…±ä¾èµ–ï¼ˆmysqlã€redis ç­‰ï¼‰&lt;/p&gt;
&lt;p&gt;watchtower å¸¸é©»ï¼Œæ£€æµ‹åˆ°æ–°é•œåƒ â†’ è‡ªåŠ¨æ‹‰å–å¹¶æ›´æ–°å¯¹åº”å®¹å™¨&lt;/p&gt;
&lt;p&gt;æœåŠ¡ä¹‹é—´é€šè¿‡ docker ç½‘ç»œ äº’ç›¸è°ƒç”¨ï¼ˆå®¹å™¨åå°±æ˜¯ä¸»æœºåï¼‰&lt;/p&gt;
&lt;p&gt;ğŸ—ï¸ æ¶æ„å›¾&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code&gt;GitHub Repo A ----&amp;gt; GitHub Actions ----&amp;gt; Docker Hub (a-service:latest) --+
|
GitHub Repo B ----&amp;gt; GitHub Actions ----&amp;gt; Docker Hub (b-service:latest) --+--&amp;gt; VPS (docker-compose + watchtower)
|
GitHub Repo C ----&amp;gt; GitHub Actions ----&amp;gt; Docker Hub (c-service:latest) --+
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;âš™ï¸ å…³é”®ç‚¹é…ç½®
1ï¸âƒ£ æ¯ä¸ªä»“åº“çš„ GitHub Actions&lt;/p&gt;</description></item></channel></rss>